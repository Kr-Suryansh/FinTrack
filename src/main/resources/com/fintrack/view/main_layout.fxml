<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ToggleButton?>
<?import javafx.scene.control.ToggleGroup?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>
<?import org.kordamp.ikonli.javafx.FontIcon?>

<BorderPane xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.fintrack.controller.MainLayoutController" stylesheets="@../../../styles.css" prefWidth="1200" prefHeight="800">
    
    <!-- Sidebar -->
    <left>
        <VBox styleClass="sidebar" prefWidth="260" spacing="10">
            <Label text="FINTRACK" styleClass="sidebar-label"/>
            
            <VBox spacing="5" VBox.vgrow="ALWAYS">
                <fx:define>
                    <ToggleGroup fx:id="navGroup"/>
                </fx:define>

                <ToggleButton text="Dashboard" toggleGroup="$navGroup" styleClass="nav-button" maxWidth="Infinity" onAction="#showDashboard" selected="true">
                    <graphic> <FontIcon iconLiteral="fas-home" iconColor="white"/> </graphic>
                </ToggleButton>
                <ToggleButton text="Ledger" toggleGroup="$navGroup" styleClass="nav-button" maxWidth="Infinity" onAction="#showLedger">
                    <graphic> <FontIcon iconLiteral="fas-list" iconColor="white"/> </graphic>
                </ToggleButton>
                <ToggleButton text="Budget" toggleGroup="$navGroup" styleClass="nav-button" maxWidth="Infinity" onAction="#showBudget">
                    <graphic> <FontIcon iconLiteral="fas-wallet" iconColor="white"/> </graphic>
                </ToggleButton>
                <ToggleButton text="Reports" toggleGroup="$navGroup" styleClass="nav-button" maxWidth="Infinity" onAction="#showReports">
                    <graphic> <FontIcon iconLiteral="fas-chart-pie" iconColor="white"/> </graphic>
                </ToggleButton>
                <ToggleButton text="Categories" toggleGroup="$navGroup" styleClass="nav-button" maxWidth="Infinity" onAction="#showCategories">
                     <graphic> <FontIcon iconLiteral="fas-tags" iconColor="white"/> </graphic>
                </ToggleButton>
            </VBox>

            <VBox spacing="5">
                <padding>
                    <Insets top="20" right="20" bottom="20" left="20"/>
                </padding>
                 <Button text="Logout" styleClass="nav-button" maxWidth="Infinity" onAction="#handleLogout">
                     <graphic> <FontIcon iconLiteral="fas-sign-out-alt" iconColor="white"/> </graphic>
                 </Button>
                 <Label text="v1.0" textFill="gray" style="-fx-font-size: 12px; -fx-padding: 0 0 0 10;"/>
            </VBox>
        </VBox>
    </left>

    <!-- Header -->
    <top>
        <HBox alignment="CENTER_LEFT" spacing="20" style="-fx-background-color: white; -fx-padding: 10 20; -fx-border-color: #E2E8F0; -fx-border-width: 0 0 1 0;">
            <Label fx:id="headerTitle" text="Home / Dashboard" style="-fx-font-size: 16px; -fx-text-fill: #64748B;"/>
            <Region HBox.hgrow="ALWAYS"/>

            <Label fx:id="userLabel" text="User" style="-fx-font-weight: bold;"/>
        </HBox>
    </top>

    <!-- Main Content -->
    <center>
        <BorderPane fx:id="contentArea" style="-fx-background-color: #F8FAFC;"/>
    </center>
    
</BorderPane>
